

CREATE TABLE recipes (
  id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
  title TEXT NOT NULL UNIQUE,
  recipe_description TEXT NOT NULL,
  time_to_make TEXT NOT NULL,
  date_created TIMESTAMPTZ NOT NULL DEFAULT now()
  user_id INTEGER REFERENCES "accounts"(id) ON DELETE CASCADE NOT NULL,
);

CREATE TYPE stock AS ENUM ("in stock", "out of stock", "low")

CREATE TABLE ingredients (
  id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
  ingredient_name TEXT NOT NULL UNIQUE,
  in_stock stock NOT NULL,
  notes TEXT
  user_id INTEGER REFERENCES "accounts"(id) ON DELETE CASCADE NOT NULL,
);

CREATE TABLE recipe_ingredients (
  id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
  recipe_id INTEGER REFERENCES "recipes"(id) ON DELETE CASCADE NOT NULL,
  ingredient_id INTEGER REFERENCES "ingredients"(id) ON DELETE CASCADE NOT NULL
);